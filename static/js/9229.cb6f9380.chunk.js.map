{"version":3,"file":"static/js/9229.cb6f9380.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new c,{vertex:h,fragment:b}=w;return l(h,f),w.include(a,f),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\"),h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Attribute as r}from\"../../webgl-engine/lib/Attribute.js\";import{newDoubleArray as i}from\"../../webgl-engine/lib/DoubleArray.js\";import{newFloatArray as o}from\"../../webgl-engine/lib/FloatArray.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as l}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function h(n,r,i){const o=t(n)/e(n),m={width:i,height:i};return o>1.0001?m.height=i/o:o<.9999&&(m.width=i*o),m.width=Math.round(m.width/(t(n)/t(r))),m.height=Math.round(m.height/(e(n)/e(r))),m}function w(t,e){return l(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function a(t,e,l){if(!n(e,l))return w(t,l);const h=[e[1]-l[1],Math.min(e[3],l[3])-Math.max(e[1],l[1]),l[3]-e[3],123456],a=[e[0]-l[0],Math.min(e[2],l[2])-Math.max(e[0],l[0]),l[2]-e[2],123456],u=l[2]-l[0],f=l[3]-l[1],s=a[0]>0&&a[2]>0?3:2,c=h[0]>0&&h[2]>0?3:2,p=(c+1)*(s+1),A=i(3*p),M=o(2*p),d=new Array(6*(c*s-1));let j=0,y=0,O=0,x=0,I=0;for(let n=0;n<4;n++){const t=h[n];if(t<=0)continue;let e=0;for(let r=0;r<4;r++){const t=a[r];t<=0||(A[y++]=l[0]+e,A[y++]=l[1]+j,A[y++]=-1,M[O++]=e/u,M[O++]=j/f,r<3&&n<3&&(1!==r||1!==n)&&(d[I++]=x,d[I++]=x+1,d[I++]=x+s+1,d[I++]=x+1,d[I++]=x+s+2,d[I++]=x+s+1),x++,e+=t)}j+=t}const N=new Array(d.length);return new m(t,[[g.POSITION,new r(A,3,!0)],[g.NORMAL,new r(b,3,!0)],[g.UV0,new r(M,2,!0)]],[[g.POSITION,d],[g.NORMAL,N],[g.UV0,d]])}const b=[0,0,1];export{h as computeImageExportSize,w as createGeometryForExtent,a as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as i}from\"../../../core/asyncUtils.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,abortMaybe as n,isSome as o}from\"../../../core/maybe.js\";import{debounce as l,isAbortError as h,eachAlways as m,onAbort as d,isAborted as c,createAbortError as g,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{whenOnce as p}from\"../../../core/reactiveUtils.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import _ from\"../../../geometry/Extent.js\";import{equals as w,create as x,width as R,height as v,copy as S,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as E}from\"./interfaces.js\";import{LayerView3D as j}from\"./LayerView3D.js\";import{computeImageExportSize as I,createGeometryForExtent as A,createOuterImageGeometry as C}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as D}from\"./support/projectExtentUtils.js\";import L from\"../support/debugFlags.js\";import{OverlayIndex as M}from\"../terrain/interfaces.js\";import{DirtyOperation as T}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as G}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as O}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as U}from\"../webgl-engine/materials/ImageMaterial.js\";import H from\"../../layers/LayerView.js\";import N from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as V}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as z}from\"../../webgl/enums.js\";let F=class extends(N(j(H))){constructor(){super(...arguments),this.drapeSourceType=E.RasterImage,this.updatePolicy=O.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=l((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{h(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(r((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(D(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const i=I(e.extent,t,e.resolution);let r=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if(\"imageMaxWidth\"in n&&null!=n.imageMaxWidth||\"imageMaxHeight\"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,r*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,r*=e}}const o=this._extents[e.index];o&&w(o.extent,t)&&this._imageSizeEquals(t,o.imageSize,i)||(this._extents[e.index]={extent:x(t),imageSize:i,pixelRatio:r},this.suspended||this._fetch(e.index).catch((e=>{h(e)||a.getLogger(this.declaredClass).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let i=0;i<this._extents.length;i++)this._extents[i]&&t.push(this._fetch(i,e));await m(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:i}=e.effectiveScaleRange,r=this.view.scale;if(r<i||t>0&&r>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,i){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const i=t.extent;if(new _(i[0],i[1],i[2],i[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,i){await t(this._images,(async(t,r)=>{t&&(await e(t,i),await this._createStageObjects(r,t.image,i))}))}_imageSizeEquals(e,t,i){if(!this.maximumDataResolution)return!1;const r=R(e)/this.maximumDataResolution.x,a=v(e)/this.maximumDataResolution.y,s=r/t.width,n=a/t.height,o=r/i.width,l=a/i.height,h=Math.abs(s-o),m=Math.abs(n-l),d=L.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const i=this._extents[e],r=i.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:x(r)});const s=this._images[e];s.loadingAbortController=n(s.loadingAbortController);const o=new _(r[0],r[1],r[2],r[3],this._spatialReference);if(0===o.width||0===o.height)return void this._clearImage(e);const l=new AbortController;s.loadingAbortController=l,d(t,(()=>l.abort()));const m=l.signal,u=this._waitFetchReady(m).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:m},{height:r,width:a}=i.imageSize;return this.layer.fetchImage(o,a,r,t)})).then((e=>{if(c(m))throw a.getLogger(this.declaredClass).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),g();return this.processResult(s,e)})).then((()=>{S(s.renderExtent,r)})).finally((()=>{u===s.loadingPromise&&(s.loadingPromise=null,s.loadingAbortController=null)}));s.loadingPromise=u,this.notifyChange(\"updating\"),await u.then((async()=>{if(m.aborted)throw g();await this._createStageObjects(e,s.image,m),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!h(e)&&a.getLogger(this.declaredClass).error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){o(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],T.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=n(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,r){const a=this.view._stage,n=this._images[e],l=()=>{a.remove(n.texture),n.texture=null,o(n.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([n.renderGeometry],T.UPDATE),n.renderGeometry=null)};if(t){const o=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:z.CLAMP_TO_EDGE,t:z.CLAMP_TO_EDGE}});let h;if(await i(this._images[e===M.INNER?M.OUTER:M.INNER].loadingPromise),u(r),l(),a.add(o),await a.loadImmediate(o),n.texture=o,s(n.material)?(n.material=new U({transparent:!0,textureId:o.id}),a.add(n.material)):n.material.setParameters({textureId:o.id}),e===M.INNER)h=A(n.material,n.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=C(n.material,e,n.renderExtent)}n.renderGeometry=new G(h),n.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([n.renderGeometry],T.UPDATE)}else l(),a.remove(n.material),n.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:i}=e.effectiveScaleRange;return V(t,i)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return S(t,e);const i=this.view.basemapTerrain;return i.ready?b(e,i.extent,t):S(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await p((()=>this.view.stationary),e),u(e)}};e([f()],F.prototype,\"layer\",void 0),e([f()],F.prototype,\"suspended\",void 0),e([f({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([f()],F.prototype,\"updating\",void 0),F=e([y(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=x();export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as l,oitDepthTest as p,oitDepthWrite as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as P,makePipelineState as j,cullingParams as O,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){return new h(e.rctx,_.shader.get().build(this.configuration),n)}_setPipelineState(e,r){const i=this.configuration,s=e===y.NONE,o=e===y.FrontFace;return j({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:l(e),culling:O(i.cullFace),depthTest:{func:p(e)},depthWrite:s?i.writeDepth?S:null:c(e),colorWrite:v,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:s||o?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const C=P(T.ONE,T.ONE_MINUS_SRC_ALPHA);class w extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=a.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:a.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:y.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as r}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as i}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as n}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as u}from\"./DefaultLayouts.js\";import{TriangleMaterial as o}from\"./TriangleMaterial.js\";import{ImageMaterialTechniqueConfiguration as h,ImageMaterialTechnique as l}from\"../shaders/ImageMaterialTechnique.js\";class c extends o{constructor(e){super(e,new m),this.supportsEdges=!0,this._configuration=new h}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<s,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}requiresSlot(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===i.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===i.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?i.TRANSPARENT_MATERIAL:i.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:i.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new p(e)}createBufferWriter(){return new n(u)}}class p extends r{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(l,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class m extends a{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{c as ImageMaterial,m as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["f","w","c","h","vertex","b","fragment","l","include","a","attributes","add","v","varyings","hasMultipassTerrain","uniforms","n","o","e","texture","descriptor","textureCoordinateScaleFactor","r","code","p","_templateObject","_taggedTemplateLiteral","i","t","u","g","opacity","output","_templateObject2","s","d","_templateObject3","transparencyPassType","m","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","Math","min","max","A","M","Array","j","y","O","x","I","N","length","F","_N","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","drapeSourceType","E","updatePolicy","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","destroyed","_doRefresh","catch","declaredClass","error","stop","_x","_createClass","key","_this2","this","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","unregisterDrapeSource","addResolvingPromise","D","then","_set","updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","clear","_this3","_spatialReference","forEach","index","_updateImageExtent","_this4","_clippedExtent","extent","W","width","height","round","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","_doRefresh2","_callee2","_context2","abrupt","_doRefresh3","_callee3","_i","_context3","push","_x2","_get","_getPrototypeOf","prototype","call","_e$effectiveScaleRang","minScale","maxScale","scale","some","loadingPromise","_processResult","_callee4","_context4","HTMLImageElement","HTMLCanvasElement","image","_x3","_x4","_x5","_step","_iterator","_createForOfIteratorHelper","done","_","contains","err","_redraw","_callee6","_this5","_context6","_ref2","_callee5","_context5","_createStageObjects","_x8","_x9","_x6","_x7","R","abs","L","_fetch2","_callee9","_this6","_context9","material","renderGeometry","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","_callee7","_i$imageSize","_context7","_objectSpread","requestAsImageElement","getFetchOptions","fetchImage","warnOnce","processResult","S","finally","_callee8","_context8","aborted","_x10","_x11","removeGeometries","T","_stage","remove","_createStageObjects2","_callee10","_o","_h","_e5","_this7","_context10","P","preMultiplyAlpha","z","loadImmediate","U","transparent","textureId","id","setParameters","C","G","localOrigin","renderLocalOrigin","addGeometries","_x12","_x13","_x14","_e$effectiveScaleRang2","V","viewingMode","ready","_waitFetchReady2","_callee11","_this8","_context11","stationary","_x15","H","readOnly","q","_n","slicePlaneEnabled","supportsHeightUnitConversion","_validateHeightModelInfo","_validateHeightModelInfo2","_this2$view$defaultsF","defaultsFromMap","heightModelInfoReady","heightModelInfo","outsideScaleRange","spatialReference","fullExtent","Promise","resolve","equals","clone","isLocal","portalItem","_s","_super2","rctx","shader","get","configuration","blending","culling","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","_setPipelineState","_b","_super3","hasSlicePlane","cullAboveGround","count","supportsEdges","_configuration","parameters","camera","relativeElevation","multipassTerrain","enabled","_r","updateTexture","_material","textureBindParameters","ensureTechnique","_updateParameters","_output","_updateOccludeeState","_a","initTextureTransparent","parent","when","name","title","concat","canResume","getSuspendInfo","_this$layer","legendEnabled","_this$updatingHandles","updating","isUpdating","_this$layer2","visible","set","_overrideIfSome","_this$layer3","_this$parent","_this$view","loaded","suspendInfo","viewNotReady","layerNotLoaded","layerInvisible","type","Boolean"],"sourceRoot":""}