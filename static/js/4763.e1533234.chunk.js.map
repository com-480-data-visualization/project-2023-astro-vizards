{"version":3,"file":"static/js/4763.e1533234.chunk.js","mappings":"mPAI8YA,EAAE,IAAIC,EAAAA,oBAAE,MAAK,GAAIC,GAAEC,EAAAA,EAAAA,IAAEC,EAAAA,GAAAA,MAAQC,GAAEF,EAAAA,EAAAA,IAAEC,EAAAA,GAAAA,SAAWE,GAAEH,EAAAA,EAAAA,IAAEC,EAAAA,GAAAA,WAAaG,EAAE,EAAE,SAASC,EAAEL,GAAG,IAAMM,EAAG,OAADN,QAAC,IAADA,OAAC,EAADA,EAAGO,KAAK,MAAG,iBAAiBD,EAAQ,CAACE,MAAMF,EAAEG,OAAOH,GAAS,CAACE,MAAM,MAAMF,GAAG,iBAAiBA,GAAG,UAAUA,EAAEA,EAAEE,MAAM,KAAKC,OAAO,MAAMH,GAAG,iBAAiBA,GAAG,WAAWA,EAAEA,EAAEG,OAAO,KAAK,CAAC,SAAeC,EAACC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAAqwC,OAArwCA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAC,EAAiBlB,GAAC,IAAAmB,EAAAC,EAAAtB,EAAAG,EAAAS,EAAAW,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA5B,UAAA,OAAAE,EAAAA,EAAAA,KAAA2B,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAA0L,GAAxK7C,GAAjBH,EAAC4C,EAAAK,OAAA,QAAAC,IAAAN,EAAA,GAAAA,EAAA,GAAC,CAAC,GAASO,KAAevC,EAAkBZ,EAA1BoD,QAAuB7B,EAAGvB,EAAhBqD,aAAkB7B,EAAE,iBAAiBD,GAAG,iBAAiBA,GAAGA,EAAE+B,aAAa7B,EAAEzB,EAAEuD,YAAYvD,EAAE0B,EAAED,EAAE+B,eAAcC,EAAAA,EAAAA,IAAG,QAAFpC,EAACnB,SAAC,IAAAmB,GAAM,QAANC,EAADD,EAAGqC,YAAI,IAAApC,OAAN,EAADA,EAASqC,QAAQhC,EAAEpB,EAAEP,GAAY4B,EAAcH,EAAtBmC,QAAmB/B,EAAGJ,EAAZoC,SAAiB,MAAMlC,EAAEjB,OAAO,MAAMiB,EAAEhB,OAAM,CAAAmC,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAAgBc,EAAAA,GAAAA,uBAAyB5D,EAAEwD,KAAK9B,EAAE,KAAKC,EAAEH,GAAE,OAAlD,GAADlB,EAACsC,EAAAiB,KAAwD,CAAAjB,EAAAE,KAAA,eAAAF,EAAAkB,OAAA,SAAQ,MAAI,OAAuJ,IAArJ9D,EAAEA,EAAE+D,SAASP,KAAK,CAACQ,KAAK,qBAAqBP,OAAOnD,GAAGN,EAAEwD,KAAKS,wBAAmB,EAAanE,EAAE,GAAGoE,EAAAA,GAAAA,eAAiB5D,EAAET,EAAEsE,gBAAgBrE,GAAE8C,EAAAwB,GAACtE,EAAEiD,OAAO,GAACH,EAAAwB,GAAA,CAAAxB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAAQuB,QAAQC,IAAIxE,GAAE,QAAOyE,EAAEL,EAAAA,GAAAA,YAAc5D,EAAE,KAAKT,EAAEsE,iBAAiBZ,EAAG,OAADgB,QAAC,IAADA,OAAC,EAADA,EAAG/D,MAAMP,EAAG,OAADsE,QAAC,IAADA,OAAC,EAADA,EAAG9D,OAAOgB,EAAEjB,MAAM,wBAAwBgB,EAAEzB,EAAE,yBAAyByB,EAAErB,EAAE,MAAMoD,GAAGiB,SAASjB,GAAGkB,KAAKC,IAAInB,EAAErD,GAAGH,EAAE0B,EAAEhB,OAAO,wBAAwBe,EAAEzB,EAAE,MAAME,GAAGuE,SAASvE,GAAGwE,KAAKE,IAAIF,KAAKC,IAAIzE,EAAEC,GAAGE,GAAGL,EAAC,eAAA6C,EAAAE,KAAA,GAAejD,EAAE+E,wBAAwB5E,EAAE0B,EAAED,EAAEH,GAAG,wBAAwBE,EAAE+C,EAAAA,cAAAA,QAAUA,EAAAA,cAAAA,OAAS5C,EAAEH,GAAE,QAA3F,GAADS,EAACW,EAAAiB,KAAiG,CAAAjB,EAAAE,KAAA,gBAAAF,EAAAkB,OAAA,SAAQ,MAAI,QAAiZ,OAApY5B,EAAYD,EAAlBzB,MAAe2B,EAAGF,EAAVxB,QAAY2B,EAAEyC,SAASC,cAAc,WAAYtE,MAAM0B,EAAEE,EAAE3B,OAAO0B,EAAEC,EAAE2C,WAAW,MAAMC,aAAa/C,EAAE,EAAE,GAASI,GAAE/B,EAAAA,EAAAA,IAAEmB,EAAEjB,OAAO8B,GAAEhC,EAAAA,EAAAA,IAAEmB,EAAEhB,SAAQ8B,EAAE,IAAI0C,MAAM5C,EAAEC,IAAK4C,IAAI9C,EAAE+C,YAAY,MAAMzE,IAAI6B,EAAE6C,MAAMlC,QAAO,GAAAmC,OAAI3E,IAAS8B,EAAED,EAAK,MAAMzC,EAAEwF,aAAkBtF,EAAE,CAACuF,MAAM,CAACvB,KAAK,QAAQ3B,EAAE,EAAEhC,EAAE,EAAEG,MAAM6B,EAAE5B,OAAO6B,EAAE4C,IAAI3C,EAAE2C,KAAKM,KAAK,KAAKC,OAAO,KAAKC,OAAO,CAAC,EAAE,IAAIlD,GAAEmD,EAAAA,EAAAA,IAAE,CAAC,CAAC3F,IAAI,CAACqC,EAAEC,GAAG,CAACgD,WAAWxF,EAAEwF,cAAa1C,EAAAkB,OAAA,UAAO7D,GAAGuC,GAAGvC,EAAE2F,YAAYpD,GAAGA,IAAC,yBAAAI,EAAAiD,OAAA,GAAA3E,EAAA,KAACN,EAAAC,MAAA,KAAAC,UAAA,C","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{OverrideHelper as i,CIMSymbolHelper as o}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as l,GeometryStyle as n}from\"../cim/CIMSymbolRasterizer.js\";import{mapCIMSymbolToGeometryType as r}from\"../cim/utils.js\";import{SymbolSizeDefaults as s}from\"./previewUtils.js\";import{renderSymbol as a}from\"./renderUtils.js\";const h=new l(null,!0),m=e(s.size),c=e(s.maxSize),u=e(s.lineWidth),f=1;function y(e){const t=e?.size;if(\"number\"==typeof t)return{width:t,height:t};return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?t.width:null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?t.height:null}}async function d(e,l={}){const{node:s,opacity:d,symbolConfig:p}=l,g=\"object\"==typeof p&&\"isSquareFill\"in p&&p.isSquareFill,w=l.cimOptions||l,b=w.geometryType||r(e?.data?.symbol),M=y(l),{feature:j,fieldMap:v}=w;if(null==M.width||null==M.height){const t=await i.resolveSymbolOverrides(e.data,j,null,v,b);if(!t)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:t},e.data.primitiveOverrides=void 0;const l=[];o.fetchResources(t,h.resourceManager,l),l.length>0&&await Promise.all(l);const n=o.getEnvelope(t,null,h.resourceManager),r=n?.width,s=n?.height;M.width=\"esriGeometryPolygon\"===b?m:\"esriGeometryPolyline\"===b?u:null!=r&&isFinite(r)?Math.min(r,c):m,M.height=\"esriGeometryPolygon\"===b?m:null!=s&&isFinite(s)?Math.max(Math.min(s,c),f):m}const S=await h.rasterizeCIMSymbolAsync(e,j,M,g||\"esriGeometryPolygon\"!==b?n.Preview:n.Legend,v,b);if(!S)return null;const{width:C,height:I}=S,P=document.createElement(\"canvas\");P.width=C,P.height=I;P.getContext(\"2d\").putImageData(S,0,0);const x=t(M.width),z=t(M.height),F=new Image(x,z);F.src=P.toDataURL(),null!=d&&(F.style.opacity=`${d}`);let G=F;if(null!=l.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:F.src},fill:null,stroke:null,offset:[0,0]};G=a([[e]],[x,z],{effectView:l.effectView})}return s&&G&&s.appendChild(G),G}export{d as previewCIMSymbol};\n"],"names":["h","l","m","e","s","c","u","f","y","t","size","width","height","d","_x","_d","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_e","_e$data","p","g","w","b","M","j","v","_t","_l","_n","_r","_s","S","C","I","P","x","z","F","G","_e2","_args","wrap","_context","prev","next","length","undefined","node","opacity","symbolConfig","isSquareFill","cimOptions","geometryType","r","data","symbol","feature","fieldMap","i","sent","abrupt","clone","type","primitiveOverrides","o","resourceManager","t0","Promise","all","n","isFinite","Math","min","max","rasterizeCIMSymbolAsync","document","createElement","getContext","putImageData","Image","src","toDataURL","style","concat","effectView","shape","fill","stroke","offset","a","appendChild","stop"],"sourceRoot":""}