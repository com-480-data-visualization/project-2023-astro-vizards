{"version":3,"file":"static/js/3344.b0614e9e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/views/3d/layers/MapImageLayerView3D.js","../node_modules/@arcgis/core/views/layers/MapImageLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{sqlAnd as i}from\"../../core/sql.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{getLayerFloorFilterClause as n}from\"./floorFilterUtils.js\";import{isExportDynamic as y}from\"./sublayerUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&y(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=n(this.floors,r),o=i(s,r.definitionExpression);return t(o)&&(e[r.id]=o),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([o({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([o()],c.prototype,\"floors\",void 0),e([o({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([o()],c.prototype,\"layer\",null),e([o({readOnly:!0})],c.prototype,\"layers\",null),e([o({readOnly:!0})],c.prototype,\"layerDefs\",null),e([o({type:Number})],c.prototype,\"scale\",void 0),e([o(l)],c.prototype,\"timeExtent\",void 0),e([o({readOnly:!0})],c.prototype,\"version\",null),e([o({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([a(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/Error.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./DynamicLayerView3D.js\";import s from\"../../layers/MapImageLayerView.js\";import{MapServiceLayerViewHelper as i}from\"../../layers/support/MapServiceLayerViewHelper.js\";import{createQueryGeometry as p}from\"../../support/drapedUtils.js\";let o=class extends(s(t)){constructor(){super(...arguments),this.type=\"map-image-3d\"}initialize(){this.updatingHandles.add((()=>this.exportImageVersion),(()=>this.updatingHandles.addPromise(this.refreshDebounced()))),this._popupHighlightHelper=new i({createFetchPopupFeaturesQueryGeometry:(e,r)=>p(e,r,this.view),layerView:this,updatingHandles:this.updatingHandles})}destroy(){this._popupHighlightHelper?.destroy()}fetchPopupFeatures(e,r){return this._popupHighlightHelper.fetchPopupFeatures(e,r)}getFetchOptions(){return{timeExtent:this.timeExtent}}};o=e([r(\"esri.views.3d.layers.MapImageLayerView3D\")],o);const a=o;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as o}from\"../../layers/support/commonProperties.js\";import{ExportImageParameters as s}from\"../../layers/support/ExportImageParameters.js\";const p=p=>{let a=class extends p{initialize(){this.exportImageParameters=new s({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get floors(){return this.view?.floors??null}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"floors\"),(this._get(\"exportImageVersion\")||0)+1}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([r()],a.prototype,\"exportImageParameters\",void 0),e([r({readOnly:!0})],a.prototype,\"floors\",null),e([r({readOnly:!0})],a.prototype,\"exportImageVersion\",null),e([r()],a.prototype,\"layer\",void 0),e([r()],a.prototype,\"suspended\",void 0),e([r(o)],a.prototype,\"timeExtent\",void 0),a=e([t(\"esri.views.layers.MapImageLayerView\")],a),a};export{p as default};\n"],"names":["m","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","c","_s","_inherits","_super","_createSuper","e","_this","_classCallCheck","call","floors","scale","_createClass","key","value","this","layer","get","_this2","hasDynamicLayers","visibleSublayers","map","r","n","toExportImageJSON","length","JSON","stringify","y","serviceSublayers","gdbVersion","set","_this3","_get","_set","handles","remove","add","allSublayers","on","notifyChange","propertyName","id","join","_this$floors","_this4","filter","floorInfo","reduce","s","o","i","t","commitProperty","_this5","sublayers","forEach","a","unshift","some","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","_objectSpread","layers","layerDefs","readOnly","prototype","type","Number","l","apply","arguments","updatingHandles","exportImageVersion","addPromise","refreshDebounced","_popupHighlightHelper","createFetchPopupFeaturesQueryGeometry","p","view","layerView","_this$_popupHighlight","destroy","fetchPopupFeatures","timeExtent","_p","exportImageParameters","_this$view$floors","_this$view","_this$exportImagePara","_this$timeExtent","_getPrototypeOf","isEmpty"],"sourceRoot":""}