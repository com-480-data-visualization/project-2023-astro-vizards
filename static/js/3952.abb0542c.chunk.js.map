{"version":3,"file":"static/js/3952.abb0542c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{isSome as r}from\"../../../core/maybe.js\";import{NATIVE_ARRAY_MAX_SIZE as s}from\"../../../core/typedArrayUtil.js\";import{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";import o from\"../../../geometry/SpatialReference.js\";import a from\"../../../layers/support/Field.js\";class n{constructor(e){this._controller=e,this._handle=new l((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(s,t){return s.buffer&&0!==s.buffer.byteLength?(s.options.sourceSpatialReference&&s.options.sourceSpatialReference instanceof o&&(s.options={...s.options,sourceSpatialReference:s.options.sourceSpatialReference.toJSON()}),this._handle.invoke(s,t).then((s=>{let t=0,n=0;const l=async c=>{if(s.spatialReference=o.fromJSON(s.spatialReference),s.fields)for(;t<s.fields.length;)if(s.fields[t]=a.fromJSON(s.fields[t]),t++,c.madeProgress())return this._controller.reschedule((e=>l(e)));const p=s.spatialReference;for(;n<s.features.length;){const t=s.features[n];if(++n,t.uid=e.generateUID(),r(t.geometry)&&(t.geometry.spatialReference=p,i(t.geometry),c.madeProgress()))return this._controller.reschedule((e=>l(e)))}return s};return this._controller.schedule((e=>l(e)))}))):Promise.resolve(null)}}function i(e){switch(e.type){case\"polyline\":e.paths.reduce(((e,r)=>e+r.length),0)<s&&(e.paths=e.hasZ||e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.paths.map((e=>e.map((e=>[e[0],e[1]])))));break;case\"polygon\":e.rings.reduce(((e,r)=>e+r.length),0)<s&&(e.rings=e.hasZ||e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.rings.map((e=>e.map((e=>[e[0],e[1]])))))}}class l extends t{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{n as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as t,isNone as s,destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as u,createAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as n}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as p,executeQuery as c}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as l}from\"../../support/PBFDecoder.js\";let d=class extends r{constructor(e){super(e)}get queryFeaturesDehydrated(){const e=this.layer.capabilities,r=e&&e.query,o=r&&r.supportsFormatPBF,y=this.layer.parsedUrl;if(o){s(this._decoder)&&(this._decoder=new l(this.controller));const e={sourceSpatialReference:this.layer.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeLength:1024};return(r,s)=>p(y,r,\"pbf\",this._createRequestOptions(s)).then((r=>(u(s),t(this._decoder)?this._decoder.invoke({buffer:r.data,options:e},s.signal):Promise.reject(a()))))}return(e,r)=>c(y,e,this.layer.spatialReference,this._createRequestOptions(r)).then((e=>n(e.data)))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=o(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([y({constructOnly:!0})],d.prototype,\"layer\",void 0),e([y({constructOnly:!0})],d.prototype,\"controller\",void 0),e([y({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],d);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([y({constructOnly:!0})],h.prototype,\"layer\",void 0),e([y({readOnly:!0})],h.prototype,\"queryFeaturesDehydrated\",null),h=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],h);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([y({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let f=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(n,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function q(e,r){return\"feature\"===e.type&&\"feature-layer\"===e.source.type?t(e.infoFor3D)?new h({layer:e}):new d({layer:e,controller:r}):\"feature\"===e.type&&\"memory\"===e.source.type||\"csv\"===e.type||\"geojson\"===e.type||\"oriented-imagery\"===e.type||\"wfs\"===e.type?new f({layer:e,source:e.source}):\"ogc-feature\"===e.type?new m({layer:e}):null}e([y({constructOnly:!0})],f.prototype,\"layer\",void 0),e([y({constructOnly:!0})],f.prototype,\"source\",void 0),f=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],f);export{q as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class a{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const t=this._layerView.view.resourceController;this.query=i(r,t.normal),t&&this._memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this._layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this._layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this._layerView.layer,r&&r.message?r.message:r)}}export{a as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,isNone as s,isSome as o}from\"../../../core/maybe.js\";import{watch as i,initial as a,when as n,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as c}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as m}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLikeLayerView3D as h}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as d}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as F}from\"../webgl-engine/lib/UpdatePolicy.js\";import x from\"../../layers/FeatureLayerView.js\";import b from\"../../layers/LayerView.js\";import M from\"../../layers/RefreshableLayerView.js\";let _=class extends(M(h(x(d(b))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this.suspendResumeExtentMode=\"data\"}initialize(){this.handles.add(i((()=>this._updatingRequiredFieldsPromise),(e=>this.updatingHandles.addPromise(e)),l))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return F.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=v[this.layer.geometryType];return null==e||this.controller.serviceDataCount>e?F.ASYNC:F.SYNC}case\"tiles\":return F.ASYNC}}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this._fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new m({layerView:this,context:this._fetcherContext,graphics:new f,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),a),this.handles.add(i((()=>this.suspended),(r=>{r?e.suspend():e.resume()}),l)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),a),this.handles.add(n((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){e&&!this.suspended&&this.controller&&this.controller.refetch(),this.processor.refreshFilter()}getUsedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}getUnloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t/(t+r);return e+r*(this.processor?.usedMemoryPerFeature??0)*s}ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r();if(e&&e.outStatistics||s(this.graphics3DProcessor))return t;const o=this.layer.objectIdField,i=this.graphics3DProcessor.graphics3DGraphicsByObjectID,a=[];for(const s of t.features)if(s.geometry){const e=i.get(s.attributes[o]);e&&(s.geometry=c(e.graphic.geometry),a.push(s))}else a.push(s);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},s=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of s)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),o(e.outSpatialReference)&&!e.outSpatialReference.equals(this.view.spatialReference)&&t(\"outSpatialReference\")}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=o(e)?e.averageSymbolComplexity:void 0,t=o(r)?`f:${r.primitivesPerFeature},v:${r.primitivesPerCoordinate}`:\"n/a\";return{...this._getResourceInfo(),partial:this.maximumNumberOfFeaturesExceeded,mode:this.controller?.mode??\"n/a\",symbolComplexity:t,nodes:this.controller?.tileDescriptors.length??0,...this.controller?.debug??{storedFeatures:0,totalVertices:0}}}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller,loadedGraphics:this.controller?.graphics}}};e([u()],_.prototype,\"layer\",void 0),e([u()],_.prototype,\"controller\",void 0),e([u()],_.prototype,\"_controllerTotal\",void 0),e([u()],_.prototype,\"_processorTotal\",void 0),e([u()],_.prototype,\"maximumNumberOfFeatures\",null),e([u()],_.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u(g)],_.prototype,\"updatingProgress\",void 0),e([u({readOnly:!0})],_.prototype,\"updatingProgressValue\",null),e([u({readOnly:!0})],_.prototype,\"updatePolicy\",null),e([u({readOnly:!0})],_.prototype,\"hasZ\",null),e([u({readOnly:!0})],_.prototype,\"hasM\",null),e([u()],_.prototype,\"suspendResumeExtentMode\",void 0),_=e([p(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],_);const v={point:5e3,polygon:500,polyline:1e3},j=_;export{j as default};\n"],"names":["n","e","_classCallCheck","this","_controller","_handle","l","r","schedule","_createClass","key","value","destroy","s","t","_this","buffer","byteLength","options","sourceSpatialReference","o","_objectSpread","toJSON","invoke","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","c","p","_t","wrap","_context","prev","next","spatialReference","fields","length","a","madeProgress","abrupt","reschedule","features","uid","geometry","i","stop","_x","apply","arguments","Promise","resolve","type","paths","reduce","hasZ","hasM","map","rings","_t2","_inherits","_super","_createSuper","call","_parseFeatureQuery","d","_r","get","layer","capabilities","query","supportsFormatPBF","y","parsedUrl","_this$layer$spatialRe","_this$layer$spatialRe2","_decoder","controller","applyTransform","maxStringAttributeLength","_createRequestOptions","u","data","signal","reject","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","h","_r2","_super2","queryFeatures","m","_r3","_super3","f","_r4","_super4","_this2","source","queryFeaturesJSON","name","_memoryCache","_capabilities","layerView","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","infoFor3D","normal","_memoryCacheEnabled","memoryController","newCache","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","state","viewingMode","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","error","message","_","_M","_controllerTotal","_processorTotal","suspendResumeExtentMode","handles","add","_updatingRequiredFieldsPromise","updatingHandles","addPromise","removeAll","_fetcherContext","_this$controller$maxi","_this$controller","maximumNumberOfFeatures","_get","set","_set","suspended","maximumNumberOfFeaturesExceeded","_this$controller2","_this$processor","updating","updatingRemaining","Math","max","updatingTotal","processor","F","mode","v","serviceDataCount","supportsZ","supportsM","_this$processor2","setObjectIdVisibility","_getPrototypeOf","_this3","_queryFeaturesMesh","_ensureQuery","_this4","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","_this4$processor","displayFeatureLimit","_doRefresh","refetch","refreshFilter","_this$processor$usedM","_this$processor3","_this$controller$memo","_this$controller3","usedMemory","memoryForUnusedFeatures","_this$processor$unpro","_this$processor4","_this$controller$expe","_this$controller4","_this$processor$loade","_this$processor5","_this$processor$usedM2","_this$processor6","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","_this$controller5","hasMaximumNumberOfFeaturesOverride","_queryFeaturesMesh2","_callee2","_iterator","_step","_s","_e3","_context2","_validateQueryFeaturesMesh","sent","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","_createForOfIteratorHelper","done","attributes","graphic","push","err","_x2","_x3","_validateQueryFeaturesMesh2","_callee3","_i","_s2","_context3","concat","returnCentroid","equals","_x4","_this$controller6","_this$controller$mode","_this$controller7","_this$controller$tile","_this$controller8","_this$controller$debu","_this$controller9","averageSymbolComplexity","primitivesPerFeature","primitivesPerCoordinate","_getResourceInfo","partial","symbolComplexity","nodes","tileDescriptors","debug","storedFeatures","totalVertices","_this$controller10","updatePolicy","loadedGraphics","M","x","b","g","point","polygon","polyline","j"],"sourceRoot":""}