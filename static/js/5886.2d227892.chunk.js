"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5886],{35886:function(e,t,n){n.r(t),n.d(t,{loadGLTFMesh:function(){return L}});var r=n(37762),o=n(74165),a=n(15861),u=n(51995),s=n(76200),c=n(77427),i=n(16889),l=n(92026),f=n(22753),p=n(11873),m=n(71353),d=n(67077),g=n(64995),v=n(53942),x=n(79694),C=n(27474),T=n(25158),h=n(32035),w=n(19093),y=n(17054),b=n(57898),A=n(27053),E=n(57516),M=n(32315),R=n(57661),S=n(72838),Z=n(68845),k=n(8548),B=n(92770),I=n(69618),F=n(19131);function L(e,t,n){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)((0,o.Z)().mark((function e(t,n,a){var u,s,c,i,f,p,m,d,g,v,x,T,h,w,y,M,R;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new A.C(P(a)),e.next=3,(0,E.Q)(u,n,a,!0);case 3:s=e.sent.model,c=s.lods.shift(),i=new Map,f=new Map,s.textures.forEach((function(e,t){return i.set(t,G(e))})),s.materials.forEach((function(e,t){return f.set(t,O(e,i))})),p=D(c),m=(0,r.Z)(p.parts);try{for(m.s();!(d=m.n()).done;)g=d.value,X(p,g,f)}catch(o){m.e(o)}finally{m.f()}return v=p.vertexAttributes,x=v.position,T=v.normal,h=v.tangent,w=v.color,y=v.texCoord0,M={position:x.typedBuffer,normal:(0,l.pC)(T)?T.typedBuffer:null,tangent:(0,l.pC)(h)?h.typedBuffer:null,uv:(0,l.pC)(y)?y.typedBuffer:null,color:(0,l.pC)(w)?w.typedBuffer:null},R=(0,b.w1)(M,t,a),e.abrupt("return",{transform:R.transform,components:p.components,spatialReference:t.spatialReference,vertexAttributes:new C.Q({position:R.vertexAttributes.position,normal:R.vertexAttributes.normal,tangent:R.vertexAttributes.tangent,color:M.color,uv:M.uv})});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=null===e||void 0===e?void 0:e.resolveFile;return t?{busy:!1,request:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,r,a){var u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t(n),c="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,(0,s.default)(u,{responseType:c,signal:(0,l.pC)(a)?a.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}:null}function W(e,t){if((0,l.Wi)(e))return"-";var n=e.typedBuffer;return"".concat((0,c.s1)(t,n.buffer,(function(){return t.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function D(e){var t,n=0,o={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,u=new Map,s=[],i=(0,r.Z)(e.parts);try{var f=function(){var e=t.value,r=e.attributes,i=r.position,f=r.normal,p=r.color,m=r.tangent,d=r.texCoord0,g="\n      ".concat(W(i,a),"/\n      ").concat(W(f,a),"/\n      ").concat(W(p,a),"/\n      ").concat(W(m,a),"/\n      ").concat(W(d,a),"/\n      ").concat(function(e){return(0,l.pC)(e)?e.toString():"-"}(e.transform),"\n    "),v=!1,x=(0,c.s1)(u,g,(function(){return v=!0,{start:n,length:i.count}}));v&&(n+=i.count),f&&(o.normal=!0),p&&(o.color=!0),m&&(o.tangent=!0),d&&(o.texCoord0=!0),s.push({gltf:e,writeVertices:v,region:x})};for(i.s();!(t=i.n()).done;)f()}catch(p){i.e(p)}finally{i.f()}return{vertexAttributes:{position:(0,y.gS)(T.fP,n),normal:o.normal?(0,y.gS)(T.ct,n):null,tangent:o.tangent?(0,y.gS)(T.ek,n):null,color:o.color?(0,y.gS)(T.mc,n):null,texCoord0:o.texCoord0?(0,y.gS)(T.Eu,n):null},parts:s,components:[]}}function G(e){return new x.Z({data:((0,R.$A)(e.data),e.data),wrap:Q(e.parameters.wrap)})}function O(e,t){var n,r=new u.Z(function(e,t){return(0,d.f)(q(e[0]),q(e[1]),q(e[2]),t)}(e.color,e.opacity)),o=e.emissiveFactor?new u.Z((n=e.emissiveFactor,(0,m.f)(q(n[0]),q(n[1]),q(n[2])))):null;return new v.Z({color:r,colorTexture:(0,l.Wg)((0,l.yw)(e.textureColor,(function(e){return t.get(e)}))),normalTexture:(0,l.Wg)((0,l.yw)(e.textureNormal,(function(e){return t.get(e)}))),emissiveColor:o,emissiveTexture:(0,l.Wg)((0,l.yw)(e.textureEmissive,(function(e){return t.get(e)}))),occlusionTexture:(0,l.Wg)((0,l.yw)(e.textureOcclusion,(function(e){return t.get(e)}))),alphaMode:_(e.alphaMode),alphaCutoff:e.alphaCutoff,doubleSided:e.doubleSided,metallic:e.metallicFactor,roughness:e.roughnessFactor,metallicRoughnessTexture:(0,l.Wg)((0,l.yw)(e.textureMetallicRoughness,(function(e){return t.get(e)}))),colorTextureTransform:e.colorTextureTransform,normalTextureTransform:e.normalTextureTransform,occlusionTextureTransform:e.occlusionTextureTransform,emissiveTextureTransform:e.emissiveTextureTransform,metallicRoughnessTextureTransform:e.metallicRoughnessTextureTransform})}function X(e,t,n){t.writeVertices&&function(e,t){var n=e.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,s=n.texCoord0,c=t.region.start,m=t.gltf,d=m.attributes,g=m.transform,v=d.position.count;if((0,h.t)(r.slice(c,v),d.position,g),(0,l.pC)(d.normal)&&(0,l.pC)(o)){var x=(0,f.b)((0,p.c)(),g),C=o.slice(c,v);(0,h.a)(C,d.normal,x),(0,i.oc)(x)&&(0,h.n)(C,C)}else(0,l.pC)(o)&&(0,B.f)(o,0,0,1,{dstIndex:c,count:v});if((0,l.pC)(d.tangent)&&(0,l.pC)(a)){var y=(0,f.b)((0,p.c)(),g),b=a.slice(c,v);(0,w.t)(b,d.tangent,y),(0,i.oc)(y)&&(0,w.n)(b,b)}else(0,l.pC)(a)&&(0,I.f)(a,0,0,1,1,{dstIndex:c,count:v});if((0,l.pC)(d.texCoord0)&&(0,l.pC)(s)?(0,F.n)(s.slice(c,v),d.texCoord0):(0,l.pC)(s)&&(0,F.f)(s,0,0,{dstIndex:c,count:v}),(0,l.pC)(d.color)&&(0,l.pC)(u)){var A=d.color,E=u.slice(c,v);if(4===A.elementCount)A instanceof T.ek?(0,w.s)(E,A,255):A instanceof T.mc?(0,I.c)(E,A):A instanceof T.v6&&(0,w.a)(E,A,8);else{(0,I.f)(E,255,255,255,255);var M=T.ne.fromTypedArray(E.typedBuffer,E.typedBufferStride);A instanceof T.ct?(0,h.s)(M,A,255):A instanceof T.ne?(0,B.c)(M,A):A instanceof T.mw&&(0,h.b)(M,A,8)}}else(0,l.pC)(u)&&(0,I.f)(u.slice(c,v),255,255,255,255)}(e,t);var r=t.gltf,o=function(e,t){switch(t){case k.MX.TRIANGLES:return(0,M.nh)(e,S.DX);case k.MX.TRIANGLE_STRIP:return(0,M.DA)(e);case k.MX.TRIANGLE_FAN:return(0,M.jX)(e)}}(r.indices||r.attributes.position.count,r.primitiveType),a=t.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;e.components.push(new g.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function _(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function Q(e){return{horizontal:j(e.s),vertical:j(e.t)}}function j(e){switch(e){case k.e8.CLAMP_TO_EDGE:return"clamp";case k.e8.MIRRORED_REPEAT:return"mirror";case k.e8.REPEAT:return"repeat"}}function q(e){return 255*Math.pow(e,1/Z.K)}}}]);
//# sourceMappingURL=5886.2d227892.chunk.js.map