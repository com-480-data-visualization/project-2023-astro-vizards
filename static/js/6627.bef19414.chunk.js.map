{"version":3,"file":"static/js/6627.bef19414.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const e of this._buffer)if(t(e)&&s(e))return e;return null}clear(s){let e=this.dequeue();for(;t(e);)s&&s(e),e=this.dequeue()}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{isNone as s,isSome as i,unwrapOr as r,unwrap as o}from\"../../../core/maybe.js\";const d=\"__esri_stream_id__\",a=\"__esri_timestamp__\",h=1e3;class n{constructor(t,e,s,i,r=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=s,this._purgeOptions=i,this.store=t,this.objectIdField=e,this.purgeInterval=r,this._useGeneratedIds=this.objectIdField===d}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(r){if(this._useGeneratedIds){const t=this._nextId();r.attributes[this.objectIdField]=t,r.objectId=t}else r.objectId=r.attributes[this.objectIdField];const o=r.objectId;if(this._addOrUpdated.set(o,r),this._maxAge=Math.max(this._maxAge,r.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return s(this._trackIdLessObservations)&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(o);const d=r.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(d)){const s=i(this._purgeOptions)&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:h,r=e(s,0,h);this._trackIdToObservations.set(d,new t(r))}const a=this._trackIdToObservations.get(d)?.enqueue(o);i(a)&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const o=[];if(i(e))for(const r of e){const t=this.store.removeById(r);i(t)&&o.push(t)}const d=[];if(i(t)){const i=new Set(r(e,[]));for(const e of t)i.has(e.objectId)||(e.attributes[a]=s,this.store.add(e),d.push(e))}(d.length||o?.length)&&this.store.update(d,o)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;i(e)&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=o(s.dequeue());this._removed.push(t),e--}if(i(this._trackIdLessObservations)){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();i(t)&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[a]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{d as DEFAULT_STREAM_ID_FIELD,a as ESRI_TIMESTAMP,n as StreamFeatureManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../../core/HandleOwner.js\";import{destroyMaybe as o,isSome as i}from\"../../../core/maybe.js\";import{EsriPromiseMixin as a}from\"../../../core/Promise.js\";import{watch as n}from\"../../../core/reactiveUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as d}from\"../data/StreamFeatureManager.js\";import{createConnection as h}from\"../sources/connections/createConnection.js\";import{EventedSet as l}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as u}from\"../../../geometry/support/typeUtils.js\";const m=2500;let y=class extends t{getObjectId(){return this.objectId}};e([c({type:Number,json:{read:!0}})],y.prototype,\"objectId\",void 0),y=e([p(\"esri.layers.graphics.controllers.StreamGraphic\")],y);class f{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let g=class extends(s(a(r))){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new l,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._clearInterval(),this.connection=o(this.connection),this.store=o(this.store),this.graphics.clear(),this.handles.removeAll()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_startup(){const{layer:e,layerView:t}=this,{spatialReference:r,definitionExpression:s,geometryDefinition:o,objectIdField:i,timeInfo:a,purgeOptions:c,maxReconnectionAttempts:p,maxReconnectionInterval:l,customParameters:m}=e,y=e.geometryType?u.toJSON(e.geometryType):null,g=r,I=t.view.spatialReference,_={geometry:o,where:s};this.clear(),this._set(\"connection\",h(e.parsedUrl,g,I,y,_,p,l,m??void 0)),this._outSpatialReference=I.toJSON(),this.store=new f(this._onUpdate.bind(this)),this.featuresManager=new d(this.store,i,a.toJSON(),c);const v=\"startup-watches\";this.handles.remove(v),this.handles.add([e.on(\"send-message-to-socket\",(e=>this.connection.sendMessageToSocket(e))),e.on(\"send-message-to-client\",(e=>this.connection.sendMessageToClient(e))),this.connection.on(\"data-received\",(e=>this._onFeature(e))),this.connection.on(\"message-received\",(e=>this._onWebSocketMessage(e))),n((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],v),this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{i(e.geometry)&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._outSpatialReference);const t=y.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){i(t)&&this.graphics.removeMany(t),i(e)&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),r=e-t;if(r>m){t=e;const s=Math.round(this._updateInfo.client/(r/1e3)),o=Math.round(this._updateInfo.websocket/(r/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:s,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}};e([c()],g.prototype,\"isPaused\",void 0),e([c({constructOnly:!0})],g.prototype,\"layer\",void 0),e([c({constructOnly:!0})],g.prototype,\"layerView\",void 0),e([c()],g.prototype,\"connection\",void 0),e([c({readOnly:!0})],g.prototype,\"updating\",null),g=e([p(\"esri.layers.graphics.controllers.StreamController\")],g);export{g as StreamController,y as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as i}from\"../../../layers/graphics/controllers/StreamController.js\";import a from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as l}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{UpdatePolicy as p}from\"../webgl-engine/lib/UpdatePolicy.js\";import c from\"../../layers/LayerView.js\";import u from\"../../layers/StreamLayerView.js\";let m=class extends(u(l(n(c)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=p.ASYNC,this.hasZ=!0,this.hasM=!1,this._isUserPaused=!1}initialize(){this.handles.add(t((()=>this.suspended),(r=>{this.controller&&(r?this.controller.pauseStream():this._isUserPaused||this.controller.resumeStream())})))}get connectionError(){const r=this.get(\"controller.connection.errorString\");if(r)return new e(\"stream-controller\",r)}pause(){this._isUserPaused=!0,this.controller.pauseStream()}resume(){this._isUserPaused=!1,this.controller.resumeStream()}createQuery(){return new a({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(r,e){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(r),e?.signal)}createController(){return new i({layer:this.layer,layerView:this})}beforeSetController(){}};r([s({readOnly:!0})],m.prototype,\"updatePolicy\",void 0),r([s({readOnly:!0})],m.prototype,\"connectionError\",null),r([s()],m.prototype,\"controller\",void 0),r([s({readOnly:!0})],m.prototype,\"hasZ\",void 0),r([s({readOnly:!0})],m.prototype,\"hasM\",void 0),m=r([o(\"esri.views.3d.layers.StreamLayerView3D\")],m);const y=m;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../layers/support/FeatureFilter.js\";const s=s=>{let n=class extends s{constructor(...r){super(...r),this.connectionError=null,this.filter=null}get connectionStatus(){return this.controller?.isPaused?\"paused\":this.controller?.connection?.connectionStatus??\"disconnected\"}};return r([o({readOnly:!0})],n.prototype,\"connectionError\",void 0),r([o({readOnly:!0})],n.prototype,\"connectionStatus\",null),r([o({type:e})],n.prototype,\"filter\",void 0),n=r([t(\"esri.layers.mixins.StreamLayerView\")],n),n};export{s as default};\n"],"names":["s","t","_classCallCheck","this","size","_start","maxSize","_buffer","Array","_createClass","key","get","value","_step","_iterator","_createForOfIteratorHelper","n","done","e","err","f","dequeue","a","i","r","arguments","length","undefined","_trackIdToObservations","Map","_idCounter","_lastPurge","performance","now","_addOrUpdated","_removed","_maxAge","_timeInfo","_purgeOptions","store","objectIdField","purgeInterval","_useGeneratedIds","push","entries","_this$_trackIdToObser","_nextId","attributes","objectId","o","set","Math","max","startTimeField","trackIdField","_trackIdLessObservations","enqueue","d","has","maxObservations","delete","_getToAdd","_getToRemove","_purge","_step2","_iterator2","removeById","_step3","Set","_iterator3","add","update","forEach","clear","_purgeSomeByDisplayCount","_purgeByAge","_purgeByAgeReceived","_purgeTracks","displayCount","_step4","_iterator4","values","_this$_timeInfo","_this","age","_this2","ageReceived","_this3","_n$floorInfo","layer","floorInfo","floorField","view","l","floors","_n$floorInfo2","filter","map","concat","join","y","_t","_inherits","_super","_createSuper","apply","c","type","Number","json","read","prototype","p","onUpdate","_idToGraphic","sourceLayer","g","_s","_super2","isPaused","graphics","_updateInfo","websocket","client","_updateIntervalId","_outSpatialReference","addResolvingPromise","when","_startup","clearInterval","_clearInterval","connection","handles","removeAll","connectionStatus","layerView","spatialReference","definitionExpression","geometryDefinition","timeInfo","purgeOptions","maxReconnectionAttempts","maxReconnectionInterval","m","customParameters","geometryType","u","I","_","geometry","where","_set","h","parsedUrl","toJSON","_onUpdate","bind","featuresManager","v","remove","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","_initUpdateInterval","_this4","emit","objectIds","trackIds","removeByTrackId","hasEventListener","centroid","fromJSON","_unused","removeMany","addMany","_this5","updateInterval","setInterval","round","checkForUpdates","constructOnly","readOnly","_u","updatePolicy","hasZ","hasM","_isUserPaused","suspended","controller","pauseStream","resumeStream","outFields","returnGeometry","outSpatialReference","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","_len","_key","call","connectionError","_this$controller","_this$controller$conn","_this$controller2","_this$controller2$con"],"sourceRoot":""}