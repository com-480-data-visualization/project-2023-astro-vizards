"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1323],{55107:function(e,n,t){var r,i;t.d(n,{B:function(){return i},P:function(){return r}}),function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(r||(r={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(i||(i={}))},71323:function(e,n,t){t.r(n),t.d(n,{destroyContext:function(){return x},dracoDecompressPointCloudData:function(){return m},filterObbsForModifications:function(){return b},filterObbsForModificationsSync:function(){return Z},initialize:function(){return M},interpretObbModificationResults:function(){return I},process:function(){return h},setLegacySchema:function(){return g},setModifications:function(){return w},setModificationsSync:function(){return U},test:function(){return P}});var r,i=t(74165),o=t(15861),u=t(92026),s=t(55107),a=t(65905);function c(e){return(0,a.V)("esri/libs/i3s/".concat(e))}var f,l,d=t(95964);function h(e){return p.apply(this,arguments)}function p(){return p=(0,o.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=[n.geometryBuffer],e.abrupt("return",{result:C(n,t),transferList:t});case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return y=(0,o.Z)((0,i.Z)().mark((function e(n){var t,r,o,u,s,a,c,f,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(r=[n.geometryBuffer],o=n.geometryBuffer,u=o.byteLength,s=l._malloc(u),(a=new Uint8Array(l.HEAPU8.buffer,s,u)).set(new Uint8Array(o)),c=l.dracoDecompressPointCloudData(s,a.byteLength),l._free(s),!(c.error.length>0)){e.next=7;break}throw new Error("i3s.wasm: ".concat(c.error));case 7:return f=(null===(t=c.featureIds)||void 0===t?void 0:t.length)>0?c.featureIds.slice():null,d=c.positions.slice(),e.abrupt("return",(f&&r.push(f.buffer),r.push(d.buffer),{result:{positions:d,featureIds:f},transferList:r}));case 9:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=(0,o.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return Z(n),t={buffer:n.buffer},e.abrupt("return",{result:t,transferList:[t.buffer]});case 5:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return E=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:U(n);case 3:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function g(e){return L.apply(this,arguments)}function L(){return L=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:l.setLegacySchema(n.context,n.jsonSchema);case 3:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function x(e){_(e)}function U(e){for(var n=e.modifications,t=l._malloc(8*n.length),r=new Float64Array(l.HEAPU8.buffer,t,n.length),i=0;i<n.length;++i)r[i]=n[i];l.setModifications(e.context,t,n.length,e.isGeodetic),l._free(t)}function C(e,n){if(!l)return null;var t=e.context,r=e.localOrigin,i=e.globalTrafo,o=e.mbs,a=e.obb,c=e.elevationOffset,f=e.geometryBuffer,d=e.geometryDescriptor,h=e.indexToVertexProjector,p=e.vertexToRenderProjector,m=l._malloc(f.byteLength),y=l._malloc(33*Float64Array.BYTES_PER_ELEMENT),b=new Uint8Array(l.HEAPU8.buffer,m,f.byteLength);b.set(new Uint8Array(f));var v=new Float64Array(l.HEAPU8.buffer,y,33);A(v,r);var w=v.byteOffset+3*v.BYTES_PER_ELEMENT,E=new Float64Array(v.buffer,w);A(E,i),w+=16*v.BYTES_PER_ELEMENT,A(E=new Float64Array(v.buffer,w),o),w+=4*v.BYTES_PER_ELEMENT,(0,u.pC)(a)&&(A(E=new Float64Array(v.buffer,w),a.center),w+=3*v.BYTES_PER_ELEMENT,A(E=new Float64Array(v.buffer,w),a.halfSize),w+=3*v.BYTES_PER_ELEMENT,A(E=new Float64Array(v.buffer,w),a.quaternion));var g=d,L={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return"color"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return"normalCompressed"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return"uv0"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return"uvRegion"===e.name}))})),featureIndex:g.featureIndex},x=l.process(t,!!e.obb,m,b.byteLength,g,L,y,c,h,p,e.normalReferenceFrame);if(l._free(y),l._free(m),x.error.length>0)throw new Error("i3s.wasm: ".concat(x.error));if(x.discarded)return null;var U=x.componentOffsets.length>0?x.componentOffsets.slice():null,C=x.featureIds.length>0?x.featureIds.slice():null,I=x.interleavedVertedData.slice().buffer,Z=x.indicesType===s.P.Int16?new Uint16Array(x.indices.buffer,x.indices.byteOffset,x.indices.byteLength/2).slice():new Uint32Array(x.indices.buffer,x.indices.byteOffset,x.indices.byteLength/4).slice(),_=x.positions.slice(),M=x.positionIndicesType===s.P.Int16?new Uint16Array(x.positionIndices.buffer,x.positionIndices.byteOffset,x.positionIndices.byteLength/2).slice():new Uint32Array(x.positionIndices.buffer,x.positionIndices.byteOffset,x.positionIndices.byteLength/4).slice(),P={layout:e.layouts[0],interleavedVertexData:I,indices:Z,hasColors:x.hasColors,hasModifications:x.hasModifications,positionData:{data:_,indices:M}};return C&&n.push(C.buffer),U&&n.push(U.buffer),n.push(I),n.push(Z.buffer),n.push(_.buffer),n.push(M.buffer),{componentOffsets:U,featureIds:C,transformedGeometry:P,obb:x.obb}}function I(e){return 0===e?d.O4.Unmodified:1===e?d.O4.PotentiallyModified:2===e?d.O4.Culled:d.O4.Unknown}function Z(e){var n=e.context,t=e.buffer,r=l._malloc(t.byteLength),i=t.byteLength/Float64Array.BYTES_PER_ELEMENT,o=new Float64Array(l.HEAPU8.buffer,r,i),u=new Float64Array(t);o.set(u),l.filterOBBs(n,r,i),u.set(o),l._free(r)}function _(e){l&&l.destroy(e)}function A(e,n){for(var t=0;t<n.length;++t)e[t]=n[t]}function M(){return l?Promise.resolve():(f||(f=(r||(r=new Promise((function(e){return t.e(7552).then(t.bind(t,57552)).then((function(e){return e.i})).then((function(n){var t=(0,n.default)({locateFile:c,onRuntimeInitialized:function(){return e(t)}});delete t.then}))})).catch((function(e){throw e}))),r).then((function(e){l=e,f=null}))),f)}var P={transform:C,destroy:_}},95964:function(e,n,t){t.d(n,{$i:function(){return p},FE:function(){return s},Hw:function(){return o},NB:function(){return y},O4:function(){return i},U_:function(){return r},oQ:function(){return b},rw:function(){return m},w5:function(){return u}});var r,i,o,u,s,a,c=t(60136),f=t(29388),l=t(43144),d=t(15671),h=t(23470),p=(0,l.Z)((function e(n,t){(0,d.Z)(this,e),this.id=n,this.mbs=t,this.renderMbs=(0,h.f)(0,0,0,-1),this.elevationRange=null})),m=(0,l.Z)((function e(){(0,d.Z)(this,e),this.min=1/0,this.max=-1/0,this.valid=!1}));(a=r||(r={}))[a.Unmodified=0]="Unmodified",a[a.Culled=1]="Culled",a[a.NotChecked=2]="NotChecked",function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(i||(i={}));var y=function(e){(0,c.Z)(t,e);var n=(0,f.Z)(t);function t(e,r,u,s,a,c,f,l,h,p){var m;return(0,d.Z)(this,t),(m=n.call(this,e,u)).index=r,m.childCount=s,m.level=a,m.resources=c,m.version=f,m.lodMetric=l,m.maxError=h,m.numFeatures=p,m.failed=!1,m.cacheState=o.Unknown,m.vertexCount=0,m.memory=0,m.childrenLoaded=0,m.hasModifications=!1,m.imModificationImpact=i.NotChecked,m}return(0,l.Z)(t)}(p);!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(o||(o={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(u||(u={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(s||(s={}));var b=(0,l.Z)((function e(n,t,r,i){(0,d.Z)(this,e),this.nodeHasLOD=n,this.isChosen=t,this.lodLevel=r,this.version=i}))}}]);
//# sourceMappingURL=1323.1ed359e5.chunk.js.map