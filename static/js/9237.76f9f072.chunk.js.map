{"version":3,"file":"static/js/9237.76f9f072.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/ImageryLayerView3D.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isNone as a}from\"../../../core/maybe.js\";import{debounce as t}from\"../../../core/promiseUtils.js\";import{when as i}from\"../../../core/reactiveUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/Error.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./DynamicLayerView3D.js\";import o from\"../../layers/ImageryLayerView.js\";let n=class extends(o(s)){constructor(){super(...arguments),this.type=\"imagery-3d\",this.redrawDebounced=t((async e=>{this.redraw(((e,a)=>this._redrawImage(e,a)),e)}),2e3)}initialize(){this.handles.add([i((()=>this.view.basemapTerrain.ready),(()=>this._initializeMaximumDataResolution()),{once:!0,initial:!0}),this.layer.on(\"redraw\",(()=>this.updatingHandles.addPromise(this.redrawDebounced())))]),this.updatingHandles.add((()=>this.layer?.exportImageServiceParameters?.version),(()=>{this.updatingHandles.addPromise(this.refreshDebounced())})),this.updatingHandles.add((()=>this.layer?.renderer),(()=>{this.updatingHandles.addPromise(this.refreshDebounced())})),this.updatingHandles.add((()=>this.timeExtent),(()=>this.updatingHandles.addPromise(this.refreshDebounced())))}_initializeMaximumDataResolution(){this.maximumDataResolution=this.layer.loaded?this.layer.serviceRasterInfo.pixelSize:null}getFetchOptions(){return{timeExtent:this.timeExtent}}async processResult(e,a,t){a.imageOrCanvasElement?e.image=a.imageOrCanvasElement:(e.image=document.createElement(\"canvas\"),e.pixelData=a.pixelData,await this._redrawImage(e,t))}async _redrawImage(e,t){if(!(e.image instanceof HTMLCanvasElement)||a(e.pixelData))throw new Error;const i=e.image,r=i.getContext(\"2d\"),s=await this.layer.applyRenderer(e.pixelData,{signal:t}),o=this.layer.applyFilter(s).pixelBlock;if(a(o))throw new Error;i.width=o.width,i.height=o.height;const n=r.createImageData(o.width,o.height);n.data.set(o.getAsRGBA()),r.putImageData(n,0,0)}};n=e([r(\"esri.views.3d.layers.ImageryLayerView3D\")],n);const d=n;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex?.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex?.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex?.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n"],"names":["n","_o","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","type","redrawDebounced","t","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","redraw","a","_redrawImage","stop","_x","_createClass","key","value","_this2","this","handles","add","i","view","basemapTerrain","ready","_initializeMaximumDataResolution","once","initial","layer","on","updatingHandles","addPromise","_this2$layer","_this2$layer$exportIm","exportImageServiceParameters","version","refreshDebounced","_this2$layer2","renderer","timeExtent","maximumDataResolution","loaded","serviceRasterInfo","pixelSize","_processResult","_callee2","_context2","imageOrCanvasElement","image","document","createElement","pixelData","_x2","_x3","_x4","_redrawImage2","_callee3","r","s","o","_n","_context3","HTMLCanvasElement","Error","getContext","applyRenderer","signal","sent","applyFilter","pixelBlock","width","height","createImageData","data","set","getAsRGBA","putImageData","_x5","_x6","d","m","c","_m","_fetchPopupFeatures","p","_c","l","_this$view","y","w","f","h","R","popupEnabled","u","popupTemplate","getRequiredFields","geometry","outFields","outSpatialReference","spatialReference","resolution","layerOptions","returnTopmostRaster","showNoDataRecords","returnDomainValues","abrupt","queryVisibleRasters","then","_this$timeExtent","_get","_getPrototypeOf","prototype","call","isEmpty","_i","doRefresh","dataChanged","catch","declaredClass","error","_d","_l$fieldsIndex","_l$fieldsIndex2","_args","length","undefined","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","t0","concat","_toConsumableArray","push","has","forEach","_l$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}